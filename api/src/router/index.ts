// This file is generated by proute, do not edit it manually, it will be override

import { isRouteEndpointModule, createRoute, createOpenapiJson } from 'proute';
import { RESOURCES } from './base-conf';
import { Router } from 'express';
import $0 from './middlewares';
import $1 from './books/get';
import $2 from './books/$id.get';
import $3 from './books/$id.bookmark.delete';
import $4 from './books/$id.bookmark.post';
import $5 from './books/$id.chapter.$chapterId.get';
import $6 from './books/$id.refetch.post';
import $7 from './chapters/$id.read-progress.put';
import $8 from './chapters/$id.source.raw.get';
import $9 from './sources/get';
import $10 from './sources/refetch.post';
import $11 from './sources/subscribe.post';
import $12 from './sources/$id.subscribe.delete';
import $13 from './sources/$id.subscribe.post';

const router = Router();

if (isRouteEndpointModule($1)) {
  const route = createRoute($1, { middlewares: [$0] });
  router.get('/books', route.handler);
}
if (isRouteEndpointModule($2)) {
  const route = createRoute($2, { middlewares: [$0] });
  router.get('/books/:id', route.handler);
}
if (isRouteEndpointModule($3)) {
  const route = createRoute($3, { middlewares: [$0] });
  router.delete('/books/:id/bookmark', route.handler);
}
if (isRouteEndpointModule($4)) {
  const route = createRoute($4, { middlewares: [$0] });
  router.post('/books/:id/bookmark', route.handler);
}
if (isRouteEndpointModule($5)) {
  const route = createRoute($5, { middlewares: [$0] });
  router.get('/books/:id/chapter/:chapterId', route.handler);
}
if (isRouteEndpointModule($6)) {
  const route = createRoute($6, { middlewares: [$0] });
  router.post('/books/:id/refetch', route.handler);
}
if (isRouteEndpointModule($7)) {
  const route = createRoute($7, { middlewares: [$0] });
  router.put('/chapters/:id/read-progress', route.handler);
}
if (isRouteEndpointModule($8)) {
  const route = createRoute($8, { middlewares: [$0] });
  router.get('/chapters/:id/source/raw', route.handler);
}
if (isRouteEndpointModule($9)) {
  const route = createRoute($9, { middlewares: [$0] });
  router.get('/sources', route.handler);
}
if (isRouteEndpointModule($10)) {
  const route = createRoute($10, { middlewares: [$0] });
  router.post('/sources/refetch', route.handler);
}
if (isRouteEndpointModule($11)) {
  const route = createRoute($11, { middlewares: [$0] });
  router.post('/sources/subscribe', route.handler);
}
if (isRouteEndpointModule($12)) {
  const route = createRoute($12, { middlewares: [$0] });
  router.delete('/sources/:id/subscribe', route.handler);
}
if (isRouteEndpointModule($13)) {
  const route = createRoute($13, { middlewares: [$0] });
  router.post('/sources/:id/subscribe', route.handler);
}
export const openapiJson = createOpenapiJson(
  {},
  RESOURCES,
  [
    { method: 'get', path: '/books', module: $1 },
    { method: 'get', path: '/books/:id', module: $2 },
    { method: 'delete', path: '/books/:id/bookmark', module: $3 },
    { method: 'post', path: '/books/:id/bookmark', module: $4 },
    { method: 'get', path: '/books/:id/chapter/:chapterId', module: $5 },
    { method: 'post', path: '/books/:id/refetch', module: $6 },
    { method: 'put', path: '/chapters/:id/read-progress', module: $7 },
    { method: 'get', path: '/chapters/:id/source/raw', module: $8 },
    { method: 'get', path: '/sources', module: $9 },
    { method: 'post', path: '/sources/refetch', module: $10 },
    { method: 'post', path: '/sources/subscribe', module: $11 },
    { method: 'delete', path: '/sources/:id/subscribe', module: $12 },
    { method: 'post', path: '/sources/:id/subscribe', module: $13 },
  ],
);
router.get('/docs/openapi.json', (req, res) => {
  res.json(openapiJson);
});
router.get('/docs', (req, res) => {
  const jsonEndpoint = req.baseUrl ? `${req.baseUrl}/docs/openapi.json` : '/docs/openapi.json'
  res.send(`
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script type="module" src="https://unpkg.com/rapidoc/dist/rapidoc-min.js"></script>
  </head>
  <body>
    <rapi-doc spec-url = "${jsonEndpoint}"> </rapi-doc>
  </body>
</html>`
  );
});

export { router };
